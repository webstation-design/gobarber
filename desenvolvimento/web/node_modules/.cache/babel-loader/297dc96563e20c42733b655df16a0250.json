{"ast":null,"code":"import e, { createContext as t, useContext as r, useEffect as n, useState as a, useCallback as i, useRef as o, Fragment as l } from \"react\";\n\nfunction u(e, t) {\n  var r, n;\n  if (\"function\" == typeof t) void 0 !== (n = t(e)) && (e = n);else if (Array.isArray(t)) for (r = 0; r < t.length; r++) void 0 !== (n = t[r](e)) && (e = n);\n  return e;\n}\n\nfunction c(e, t) {\n  return \"-\" === e[0] && Array.isArray(t) && /^-\\d+$/.test(e) ? t.length + parseInt(e, 10) : e;\n}\n\nfunction s(e) {\n  return \"[object Object]\" === Object.prototype.toString.call(e);\n}\n\nfunction f(e) {\n  return Object(e) === e;\n}\n\nfunction p(e) {\n  return 0 === Object.keys(e).length;\n}\n\nfunction h(e, t) {\n  return e.indexOf(\"[\") >= 0 && (e = e.replace(/\\[/g, \".\").replace(/]/g, \"\")), e.split(t);\n}\n\nfunction d(e, t, r) {\n  if (!(this instanceof d)) return new d(e, t, r);\n  void 0 === t && (t = !1), void 0 === r && (r = !0), this.separator = e || \".\", this.override = t, this.useArray = r, this.keepArray = !1, this.cleanup = [];\n}\n\nvar m = new d(\".\", !1, !0);\n\nfunction y(e) {\n  return function () {\n    return m[e].apply(m, arguments);\n  };\n}\n\nd.prototype._fill = function (e, t, r, n) {\n  var a = e.shift();\n\n  if (e.length > 0) {\n    if (t[a] = t[a] || (this.useArray && function (e) {\n      return /^\\d+$/.test(e);\n    }(e[0]) ? [] : {}), !f(t[a])) {\n      if (!this.override) {\n        if (!f(r) || !p(r)) throw new Error(\"Trying to redefine `\" + a + \"` which is a \" + typeof t[a]);\n        return;\n      }\n\n      t[a] = {};\n    }\n\n    this._fill(e, t[a], r, n);\n  } else {\n    if (!this.override && f(t[a]) && !p(t[a])) {\n      if (!f(r) || !p(r)) throw new Error(\"Trying to redefine non-empty obj['\" + a + \"']\");\n      return;\n    }\n\n    t[a] = u(r, n);\n  }\n}, d.prototype.object = function (e, t) {\n  var r = this;\n  return Object.keys(e).forEach(function (n) {\n    var a = void 0 === t ? null : t[n],\n        i = h(n, r.separator).join(r.separator);\n    -1 !== i.indexOf(r.separator) ? (r._fill(i.split(r.separator), e, e[n], a), delete e[n]) : r.override && (e[n] = u(e[n], a));\n  }), e;\n}, d.prototype.str = function (e, t, r, n) {\n  return -1 !== e.indexOf(this.separator) ? this._fill(e.split(this.separator), r, t, n) : r.hasOwnProperty(e) && !this.override || (r[e] = u(t, n)), r;\n}, d.prototype.pick = function (e, t, r) {\n  var n, a, i, o, l;\n\n  for (a = h(e, this.separator), n = 0; n < a.length; n++) {\n    if (o = c(a[n], t), !(t && \"object\" == typeof t && o in t)) return;\n    if (n === a.length - 1) return r ? (i = t[o], delete t[o], Array.isArray(t) && (l = a.slice(0, -1).join(\".\"), -1 === this.cleanup.indexOf(l) && this.cleanup.push(l)), i) : t[o];\n    t = t[o];\n  }\n\n  return r && Array.isArray(t) && (t = t.filter(function (e) {\n    return void 0 !== e;\n  })), t;\n}, d.prototype.remove = function (e, t) {\n  var r;\n\n  if (this.cleanup = [], Array.isArray(e)) {\n    for (r = 0; r < e.length; r++) this.pick(e[r], t, !0);\n\n    return this._cleanup(t), t;\n  }\n\n  return this.pick(e, t, !0);\n}, d.prototype._cleanup = function (e) {\n  var t, r, n, a;\n\n  if (this.cleanup.length) {\n    for (r = 0; r < this.cleanup.length; r++) t = (t = (a = (n = this.cleanup[r].split(\".\")).splice(0, -1).join(\".\")) ? this.pick(a, e) : e)[n[0]].filter(function (e) {\n      return void 0 !== e;\n    }), this.set(this.cleanup[r], t, e);\n\n    this.cleanup = [];\n  }\n}, d.prototype.del = d.prototype.remove, d.prototype.move = function (e, t, r, n, a) {\n  return \"function\" == typeof n || Array.isArray(n) ? this.set(t, u(this.pick(e, r, !0), n), r, a) : (a = n, this.set(t, this.pick(e, r, !0), r, a)), r;\n}, d.prototype.transfer = function (e, t, r, n, a, i) {\n  return \"function\" == typeof a || Array.isArray(a) ? this.set(t, u(this.pick(e, r, !0), a), n, i) : (i = a, this.set(t, this.pick(e, r, !0), n, i)), n;\n}, d.prototype.copy = function (e, t, r, n, a, i) {\n  return \"function\" == typeof a || Array.isArray(a) ? this.set(t, u(JSON.parse(JSON.stringify(this.pick(e, r, !1))), a), n, i) : (i = a, this.set(t, this.pick(e, r, !1), n, i)), n;\n}, d.prototype.set = function (e, t, r, n) {\n  var a, i, o, l;\n  if (void 0 === t) return r;\n\n  for (o = h(e, this.separator), a = 0; a < o.length; a++) {\n    if (l = o[a], a === o.length - 1) {\n      if (n && s(t) && s(r[l])) for (i in t) t.hasOwnProperty(i) && (r[l][i] = t[i]);else if (n && Array.isArray(r[l]) && Array.isArray(t)) for (var u = 0; u < t.length; u++) r[o[a]].push(t[u]);else r[l] = t;\n    } else r.hasOwnProperty(l) && (s(r[l]) || Array.isArray(r[l])) || (/^\\d+$/.test(o[a + 1]) ? r[l] = [] : r[l] = {});\n    r = r[l];\n  }\n\n  return r;\n}, d.prototype.transform = function (e, t, r) {\n  return t = t || {}, r = r || {}, Object.keys(e).forEach(function (n) {\n    this.set(e[n], this.pick(n, t), r);\n  }.bind(this)), r;\n}, d.prototype.dot = function (e, t, r) {\n  return t = t || {}, r = r || [], Object.keys(e).forEach(function (n) {\n    if (f(e[n]) && (s(e[n]) && !p(e[n]) || Array.isArray(e[n]) && !this.keepArray && 0 !== e[n].length)) return this.dot(e[n], t, r.concat(n));\n    t[r.concat(n).join(this.separator)] = e[n];\n  }.bind(this)), t;\n}, d.pick = y(\"pick\"), d.move = y(\"move\"), d.transfer = y(\"transfer\"), d.transform = y(\"transform\"), d.copy = y(\"copy\"), d.object = y(\"object\"), d.str = y(\"str\"), d.set = y(\"set\"), d.del = d.remove = y(\"remove\"), d.dot = y(\"dot\"), [\"override\", \"overwrite\"].forEach(function (e) {\n  Object.defineProperty(d, e, {\n    get: function () {\n      return m.override;\n    },\n    set: function (e) {\n      m.override = !!e;\n    }\n  });\n}), [\"useArray\", \"keepArray\"].forEach(function (e) {\n  Object.defineProperty(d, e, {\n    get: function () {\n      return m[e];\n    },\n    set: function (t) {\n      m[e] = t;\n    }\n  });\n}), d._process = u;\nvar v = d,\n    b = t({\n  initialData: {},\n  errors: {},\n  scopePath: \"\",\n  registerField: function () {},\n  unregisterField: function () {}\n});\n\nfunction g(e) {\n  var t = r(b),\n      a = t.initialData,\n      i = t.errors,\n      o = t.scopePath,\n      l = t.unregisterField,\n      u = t.registerField,\n      c = o ? o + \".\" + e : e;\n  n(function () {\n    return function () {\n      return l(c);\n    };\n  }, [c]);\n  var s = v.pick(c, a),\n      f = i[c];\n  return {\n    fieldName: c,\n    registerField: u,\n    defaultValue: s,\n    error: f\n  };\n}\n\nvar E = function () {\n  return (E = Object.assign || function (e) {\n    for (var t, r = 1, n = arguments.length; r < n; r++) for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n\n    return e;\n  }).apply(this, arguments);\n};\n\nfunction k(e, t) {\n  var r = {};\n\n  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var a = 0;\n\n    for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) t.indexOf(n[a]) < 0 && (r[n[a]] = e[n[a]]);\n  }\n\n  return r;\n}\n\nfunction w(e, t) {\n  var r,\n      n,\n      a,\n      i,\n      o = {\n    label: 0,\n    sent: function () {\n      if (1 & a[0]) throw a[1];\n      return a[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return i = {\n    next: l(0),\n    throw: l(1),\n    return: l(2)\n  }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n    return this;\n  }), i;\n\n  function l(i) {\n    return function (l) {\n      return function (i) {\n        if (r) throw new TypeError(\"Generator is already executing.\");\n\n        for (; o;) try {\n          if (r = 1, n && (a = 2 & i[0] ? n.return : i[0] ? n.throw || ((a = n.return) && a.call(n), 0) : n.next) && !(a = a.call(n, i[1])).done) return a;\n\n          switch (n = 0, a && (i = [2 & i[0], a.value]), i[0]) {\n            case 0:\n            case 1:\n              a = i;\n              break;\n\n            case 4:\n              return o.label++, {\n                value: i[1],\n                done: !1\n              };\n\n            case 5:\n              o.label++, n = i[1], i = [0];\n              continue;\n\n            case 7:\n              i = o.ops.pop(), o.trys.pop();\n              continue;\n\n            default:\n              if (!(a = (a = o.trys).length > 0 && a[a.length - 1]) && (6 === i[0] || 2 === i[0])) {\n                o = 0;\n                continue;\n              }\n\n              if (3 === i[0] && (!a || i[1] > a[0] && i[1] < a[3])) {\n                o.label = i[1];\n                break;\n              }\n\n              if (6 === i[0] && o.label < a[1]) {\n                o.label = a[1], a = i;\n                break;\n              }\n\n              if (a && o.label < a[2]) {\n                o.label = a[2], o.ops.push(i);\n                break;\n              }\n\n              a[2] && o.ops.pop(), o.trys.pop();\n              continue;\n          }\n\n          i = t.call(e, o);\n        } catch (e) {\n          i = [6, e], n = 0;\n        } finally {\n          r = a = 0;\n        }\n\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, l]);\n    };\n  }\n}\n\nfunction A(t) {\n  var r = t.initialData,\n      n = void 0 === r ? {} : r,\n      o = t.children,\n      l = t.schema,\n      u = t.context,\n      c = void 0 === u ? {} : u,\n      s = t.onSubmit,\n      f = k(t, [\"initialData\", \"children\", \"schema\", \"context\", \"onSubmit\"]),\n      p = a({}),\n      h = p[0],\n      d = p[1],\n      m = a([]),\n      y = m[0],\n      g = m[1];\n\n  function A(e) {\n    void 0 === e && (e = {}), y.forEach(function (t) {\n      var r = t.name,\n          n = t.ref,\n          a = t.path,\n          i = t.clearValue;\n      return i ? i(n, e[r]) : v.set(a, e[r] ? e[r] : \"\", n);\n    });\n  }\n\n  var O = i(function (e) {\n    g(function (t) {\n      return t.concat([e]);\n    });\n  }, []),\n      j = i(function (e) {\n    g(function (t) {\n      return t.filter(function (t) {\n        return t.name !== e;\n      });\n    });\n  }, []);\n  return e.createElement(b.Provider, {\n    value: {\n      initialData: n,\n      errors: h,\n      scopePath: \"\",\n      registerField: O,\n      unregisterField: j\n    }\n  }, e.createElement(\"form\", E({}, f, {\n    \"data-testid\": \"form\",\n    onSubmit: function (e) {\n      return t = this, r = void 0, a = function () {\n        var t, r, n;\n        return w(this, function (a) {\n          switch (a.label) {\n            case 0:\n              e.preventDefault(), t = function () {\n                var e = {};\n                return y.forEach(function (t) {\n                  var r = t.name,\n                      n = t.ref,\n                      a = t.path,\n                      i = t.parseValue,\n                      o = v.pick(a, n);\n                  e[r] = i ? i(n) : o;\n                }), v.object(e), e;\n              }(), a.label = 1;\n\n            case 1:\n              return a.trys.push([1, 4,, 5]), l ? [4, l.validate(t, {\n                abortEarly: !1,\n                stripUnknown: !0,\n                context: c\n              })] : [3, 3];\n\n            case 2:\n              a.sent(), t = l.cast(t, {\n                stripUnknown: !0,\n                context: c\n              }), a.label = 3;\n\n            case 3:\n              return d({}), s(t, {\n                resetForm: A\n              }), [3, 5];\n\n            case 4:\n              if (r = a.sent(), n = {}, !r.inner) throw r;\n              return r.inner.forEach(function (e) {\n                n[e.path] = e.message;\n              }), d(n), [3, 5];\n\n            case 5:\n              return [2];\n          }\n        });\n      }, new ((n = void 0) || (n = Promise))(function (e, i) {\n        function o(e) {\n          try {\n            u(a.next(e));\n          } catch (e) {\n            i(e);\n          }\n        }\n\n        function l(e) {\n          try {\n            u(a.throw(e));\n          } catch (e) {\n            i(e);\n          }\n        }\n\n        function u(t) {\n          t.done ? e(t.value) : new n(function (e) {\n            e(t.value);\n          }).then(o, l);\n        }\n\n        u((a = a.apply(t, r || [])).next());\n      });\n      var t, r, n, a;\n    }\n  }), o));\n}\n\nfunction O(t) {\n  var n = t.path,\n      a = t.children,\n      i = r(b),\n      o = i.scopePath,\n      l = k(i, [\"scopePath\"]);\n  return e.createElement(b.Provider, {\n    value: E({}, l, {\n      scopePath: o.concat(o ? \".\" + n : n)\n    })\n  }, a);\n}\n\nfunction j(t) {\n  var r = t.name,\n      a = t.label,\n      i = t.multiline,\n      l = void 0 !== i && i,\n      u = k(t, [\"name\", \"label\", \"multiline\"]),\n      c = o(null),\n      s = g(r),\n      f = s.fieldName,\n      p = s.registerField,\n      h = s.defaultValue,\n      d = s.error;\n  n(function () {\n    c.current && p({\n      name: f,\n      ref: c.current,\n      path: \"value\"\n    });\n  }, [c.current, f]);\n  var m = E({}, u, {\n    ref: c,\n    id: f,\n    name: f,\n    \"aria-label\": f,\n    defaultValue: h\n  });\n  return e.createElement(e.Fragment, null, a && e.createElement(\"label\", {\n    htmlFor: f\n  }, a), l ? e.createElement(\"textarea\", E({}, m)) : e.createElement(\"input\", E({}, m)), d && e.createElement(\"span\", null, d));\n}\n\nfunction F(t) {\n  return n(function () {\n    console.warn(\"Textarea will be deprecated in the next major unform release. Please use <Input multiline /> instead\");\n  }, []), e.createElement(j, E({}, t, {\n    multiline: !0\n  }));\n}\n\nfunction P(t) {\n  var r = t.name,\n      a = t.label,\n      i = t.placeholder,\n      l = t.defaultValue,\n      u = t.options,\n      c = k(t, [\"name\", \"label\", \"placeholder\", \"defaultValue\", \"options\"]),\n      s = o(null),\n      f = g(r),\n      p = f.fieldName,\n      h = f.registerField,\n      d = f.defaultValue,\n      m = f.error;\n  return n(function () {\n    s.current && h({\n      name: p,\n      ref: s.current,\n      path: \"value\"\n    });\n  }, [s.current, p]), e.createElement(e.Fragment, null, a && e.createElement(\"label\", {\n    htmlFor: p\n  }, a), e.createElement(\"select\", E({}, c, {\n    multiple: !1,\n    id: p,\n    name: p,\n    defaultValue: d || l,\n    \"aria-label\": p,\n    ref: s\n  }), e.createElement(\"option\", {\n    value: l,\n    disabled: !0,\n    hidden: !0\n  }, i), u.map(function (t) {\n    var r = t.id,\n        n = t.title;\n    return e.createElement(\"option\", {\n      key: r,\n      value: r\n    }, n);\n  })), m && e.createElement(\"span\", null, m));\n}\n\nfunction x(t) {\n  var r = t.name,\n      i = t.label,\n      l = t.onStartProgress,\n      u = k(t, [\"name\", \"label\", \"onStartProgress\"]),\n      c = o(null),\n      s = g(r),\n      f = s.fieldName,\n      p = s.registerField,\n      h = s.defaultValue,\n      d = s.error,\n      m = a(h),\n      y = m[0],\n      v = m[1];\n  n(function () {\n    c.current && p({\n      name: f,\n      ref: c.current,\n      path: \"dataset.file\",\n      clearValue: function (e) {\n        e.value = \"\", v(\"\");\n      }\n    });\n  }, [c.current, f]);\n  var b = E({}, u, {\n    ref: c,\n    id: f,\n    name: f,\n    \"aria-label\": f\n  });\n  return e.createElement(e.Fragment, null, i && e.createElement(\"label\", {\n    htmlFor: f\n  }, i), e.createElement(\"input\", E({}, b, {\n    type: \"file\",\n    onChange: function (e) {\n      var t = new FileReader();\n      t.onload = function (e) {\n        var t = e.target.result;\n        v(t);\n      }, t.onprogress = function (e) {\n        var t = e.loaded,\n            r = void 0 === t ? 0 : t,\n            n = e.total;\n        l && l(r / (void 0 === n ? 0 : n) * 100, e);\n      };\n      var r = e.target.files;\n      r && t.readAsDataURL(r[0]);\n    },\n    \"data-file\": y\n  })), d && e.createElement(\"span\", null, d));\n}\n\nfunction V(t) {\n  var r = t.name,\n      a = t.label,\n      i = k(t, [\"name\", \"label\"]),\n      l = o(null),\n      u = g(r),\n      c = u.fieldName,\n      s = u.registerField,\n      f = u.defaultValue,\n      p = u.error,\n      h = function (e) {\n    return e.checked;\n  };\n\n  n(function () {\n    l.current && s({\n      name: c,\n      ref: l.current,\n      path: \"\",\n      parseValue: h,\n      clearValue: function (e) {\n        e.checked = !1;\n      }\n    });\n  }, [l.current, c]);\n  var d = E({}, i, {\n    ref: l,\n    id: c,\n    name: c,\n    type: \"checkbox\",\n    \"aria-label\": c,\n    defaultChecked: f\n  });\n  return e.createElement(e.Fragment, null, e.createElement(\"input\", E({}, d)), a && e.createElement(\"label\", {\n    htmlFor: c\n  }, a), p && e.createElement(\"span\", null, p));\n}\n\nfunction S(t) {\n  var r = t.name,\n      a = t.options,\n      i = t.multiple,\n      u = k(t, [\"name\", \"options\", \"multiple\"]),\n      c = g(r),\n      s = c.fieldName,\n      f = c.registerField,\n      p = c.defaultValue,\n      h = c.error,\n      d = o([]),\n      m = i ? \"checkbox\" : \"radio\",\n      y = function (e) {\n    return !!p && (\"string\" == typeof p ? [p].includes(e) : Array.from(p).includes(e));\n  },\n      v = function (e) {\n    var t = e.filter(function (e) {\n      return e.checked;\n    }).map(function (e) {\n      return e.value;\n    });\n    return i ? t : t[0];\n  };\n\n  return n(function () {\n    d.current = d.current.slice(0, a.length), f({\n      name: s,\n      path: \"\",\n      ref: d.current,\n      parseValue: v,\n      clearValue: function (e) {\n        e.forEach(function (e) {\n          e.checked = !1;\n        });\n      }\n    });\n  }, [s]), e.createElement(l, null, a.map(function (t, r) {\n    var n = t.value,\n        a = t.label,\n        i = s + \"-\" + n;\n    return e.createElement(l, {\n      key: i\n    }, e.createElement(\"input\", E({}, u, {\n      ref: function (e) {\n        d.current[r] = e;\n      },\n      type: m,\n      id: i,\n      name: s,\n      \"aria-label\": i,\n      value: n,\n      defaultChecked: y(n)\n    })), a && e.createElement(\"label\", {\n      htmlFor: i\n    }, a));\n  }), h && e.createElement(\"span\", null, h));\n}\n\nP.defaultProps = {\n  placeholder: \"\",\n  defaultValue: \"\"\n};\nexport { V as Check, S as Choice, x as FileInput, A as Form, j as Input, O as Scope, P as Select, F as Textarea, g as useField };","map":null,"metadata":{},"sourceType":"module"}